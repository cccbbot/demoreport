
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automation Test Report</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body { background-color: #f4f6f9; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .container-fluid { padding: 20px; max-width: 1600px; }
        .card { border: none; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; border-radius: 6px; }
        .card-header { background-color: #fff; border-bottom: 1px solid #eee; font-weight: 600; padding: 12px 20px; }

        /* Status Colors */
        .bg-pass { background-color: #28a745 !important; color: white; }
        .bg-fail { background-color: #dc3545 !important; color: white; }
        .bg-error { background-color: #fd7e14 !important; color: white; }
        .bg-skip { background-color: #6c757d !important; color: white; }

        .text-pass { color: #28a745; }
        .text-fail { color: #dc3545; }
        .text-error { color: #fd7e14; }
        .text-skip { color: #6c757d; }

        .summary-box { padding: 15px; border-radius: 6px; color: white; text-align: center; }
        .summary-box h3 { margin: 0; font-weight: bold; font-size: 2em; }
        .summary-box small { text-transform: uppercase; font-size: 0.8em; opacity: 0.9; }

        .table { margin-bottom: 0; }
        .table thead th { background-color: #343a40; color: white; border: none; font-weight: 500; }

        .feature-row { font-weight: 600; cursor: pointer; transition: background-color 0.2s; }
        .feature-row.status-passed { background-color: #e8f5e9; border-left: 5px solid #28a745; }
        .feature-row.status-failed { background-color: #fde8e8; border-left: 5px solid #dc3545; }
        .feature-row.status-error { background-color: #fff3cd; border-left: 5px solid #fd7e14; }
        .feature-row.status-skipped { background-color: #f8f9fa; border-left: 5px solid #6c757d; }

        .status-badge { padding: 4px 8px; border-radius: 4px; font-size: 0.75em; font-weight: bold; min-width: 60px; display: inline-block; text-align: center; color: white;}
        .marker-badge { font-size: 0.7em; margin-left: 5px; opacity: 0.8; }

        /* Log & Steps Styles */
        .log-box { background: #2b2b2b; color: #f1f1f1; padding: 15px; border-radius: 4px; font-family: Consolas, monospace; white-space: pre-wrap; font-size: 0.9em; max-height: 500px; overflow-y: auto; display: none; margin: 10px 40px; border: 1px solid #444; }

        .step-container { margin: 10px 40px; background: #fff; padding: 15px; border-radius: 6px; border: 1px solid #eee; display: none; }
        .step-item { padding: 12px 0; border-bottom: 1px solid #f0f0f0; display: flex; align-items: start; }
        .step-item:last-child { border-bottom: none; }

        .step-keyword { font-weight: bold; margin-right: 12px; min-width: 60px; text-align: right; color: #0d6efd; padding-top: 0px; }
        .step-content { flex-grow: 1; }
        .step-name { color: #333; font-weight: 500; }
        .step-status { margin-left: 10px; font-size: 0.8em; padding-top: 0px; }

        /* NEW: Step Logs Styles */
        .step-logs { 
            margin-top: 6px; 
            background-color: #f8f9fa; 
            border-left: 3px solid #dee2e6;
            padding: 5px 10px;
            font-family: Consolas, 'Courier New', monospace;
            font-size: 0.85em;
            color: #555;
            border-radius: 2px;
        }
        .log-line { display: block; white-space: pre-wrap; line-height: 1.4; }

        .screenshot-box { margin-top: 15px; border-top: 1px dashed #555; padding-top: 10px; }
        .chart-container { height: 350px; }
        .btn-filter.active { box-shadow: inset 0 3px 5px rgba(0,0,0,0.125); }
    </style>
</head>
<body>

<div class="container-fluid">
    <!-- Environment Info -->
    <div class="card">
        <div class="card-body py-2">
            <div class="row align-items-center text-secondary small">
                <div class="col-auto"><strong>Python:</strong> 3.11.3</div>
                <div class="col-auto"><strong>Platform:</strong> Windows-10-10.0.26200-SP0</div>
                <div class="col-auto"><strong>Start:</strong> 2026-01-22 00:26:21</div>
                <div class="col-auto"><strong>Duration:</strong> 4.76s</div>
            </div>
        </div>
    </div>

    <!-- Dashboard Stats Area -->
    <div class="row">
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header">Feature Statistics</div>
                <div class="card-body">
                    <div class="row g-2 mb-3">
                        <div class="col"><div class="summary-box bg-primary"><h3>3</h3><small>Total</small></div></div>
                        <div class="col"><div class="summary-box bg-pass"><h3>0</h3><small>Pass</small></div></div>
                        <div class="col"><div class="summary-box bg-fail"><h3>3</h3><small>Fail</small></div></div>
                        <div class="col"><div class="summary-box bg-error"><h3>0</h3><small>Error</small></div></div>
                        <div class="col"><div class="summary-box bg-skip"><h3>0</h3><small>Skip</small></div></div>
                    </div>
                    <div id="chart-features" class="chart-container"></div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card h-100">
                <div class="card-header">Test Case Statistics</div>
                <div class="card-body">
                    <div class="row g-2 mb-3">
                        <div class="col"><div class="summary-box bg-primary"><h3>17</h3><small>Total</small></div></div>
                        <div class="col"><div class="summary-box bg-pass"><h3>7</h3><small>Pass</small></div></div>
                        <div class="col"><div class="summary-box bg-fail"><h3>8</h3><small>Fail</small></div></div>
                        <div class="col"><div class="summary-box bg-error"><h3>0</h3><small>Error</small></div></div>
                        <div class="col"><div class="summary-box bg-skip"><h3>2</h3><small>Skip</small></div></div>
                    </div>
                    <div id="chart-cases" class="chart-container"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Detailed Report -->
    <div class="card">
        <div class="card-header d-flex flex-wrap justify-content-between align-items-center">
            <span class="mb-2 mb-md-0">Test Details</span>

            <div class="d-flex gap-2 align-items-center">
                <!-- 1. Marker Filter -->
                <select id="markerFilter" class="form-select form-select-sm" style="width: 150px;" onchange="applyFilter()">
                    <option value="all">All Markers</option>
                    
                    <option value="feature">feature</option>
                    
                    <option value="p0">p0</option>
                    
                    <option value="p1">p1</option>
                    
                    <option value="regression">regression</option>
                    
                    <option value="smoke">smoke</option>
                    
                    <option value="tags">tags</option>
                    
                </select>

                <!-- 2. Search Box -->
                <div class="input-group input-group-sm" style="width: 250px;">
                    <span class="input-group-text bg-white fw-bold">Search</span>
                    <input type="text" id="searchInput" class="form-control" placeholder="Name..." onkeyup="applyFilter()">
                </div>

                <!-- 3. Status Buttons -->
                <div class="btn-group btn-group-sm" role="group">
                    <button type="button" class="btn btn-outline-secondary btn-filter active" onclick="setFilterStatus('all')">TOTAL</button>
                    <button type="button" class="btn btn-outline-success btn-filter" onclick="setFilterStatus('passed')">PASSED</button>
                    <button type="button" class="btn btn-outline-danger btn-filter" onclick="setFilterStatus('failed')">FAILED</button>
                    <button type="button" class="btn btn-outline-warning btn-filter" onclick="setFilterStatus('error')">ERROR</button>
                    <button type="button" class="btn btn-outline-secondary btn-filter" onclick="setFilterStatus('skipped')">SKIPPED</button>
                </div>
            </div>
        </div>

        <div class="card-body p-0">
            <table class="table table-hover mb-0" id="result-table">
                <thead>
                    <tr>
                        <th style="width: 50%">Feature / Scenario</th>
                        <th style="width: 15%">Status</th>
                        <th style="width: 15%">Duration (s)</th>
                        <th style="width: 20%">Action</th>
                    </tr>
                </thead>
                <tbody>
                    
                    <!-- Feature Row -->
                    <tr class="feature-row status-failed" 
                        data-feature-name="test_example.py"
                        data-bs-toggle="collapse" data-bs-target="#collapse-1">
                        <td><strong>test_example.py</strong></td>
                        <td>
                            
                                <span class="badge bg-danger">
                                    P:6 F:4 E:0 S:2
                                </span>
                            
                        </td>
                        <td>-</td>
                        <td><small class="text-muted">Expand/Collapse</small></td>
                    </tr>

                    <!-- Scenarios Container -->
                    <tr class="collapse show" id="collapse-1">
                        <td colspan="4" class="p-0">
                            <table class="table mb-0 table-borderless bg-white">
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-passed" 
                                    data-scenario-name="test_login_success"
                                    data-feature-parent="test_example.py"
                                    data-markers="tags feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_login_success
                                        
                                            <span class="badge bg-secondary marker-badge">tags</span>
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestLogin::test_login_success</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-pass
                                            ">
                                            PASSED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.1008s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('1-7363078446077841128')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-1-7363078446077841128" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Execution Result ===
Test Passed successfully.</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_login_failed"
                                    data-feature-parent="test_example.py"
                                    data-markers="tags feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_login_failed
                                        
                                            <span class="badge bg-secondary marker-badge">tags</span>
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestLogin::test_login_failed</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.151s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('2-3254823616551820552')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-2-3254823616551820552" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
self = &lt;test_example.TestLogin object at 0x0000016928685390&gt;

    def test_login_failed(self):
        &#34;&#34;&#34;测试登录失败&#34;&#34;&#34;
        time.sleep(0.15)
&gt;       assert 2 * 2 == 5
E       assert (2 * 2) == 5

test_example.py:26: AssertionError</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-skipped" 
                                    data-scenario-name="test_login_with_verification"
                                    data-feature-parent="test_example.py"
                                    data-markers="tags feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_login_with_verification
                                        
                                            <span class="badge bg-secondary marker-badge">tags</span>
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestLogin::test_login_with_verification</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-skip">
                                            SKIPPED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0003s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('3-2114192637453886061')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-3-2114192637453886061" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
(&#39;D:\\PythonProject\\PythonProject\\DemoReport\\test_example.py&#39;, 28, &#39;Skipped: 功能未实现&#39;)</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-passed" 
                                    data-scenario-name="test_create_user"
                                    data-feature-parent="test_example.py"
                                    data-markers="tags feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_create_user
                                        
                                            <span class="badge bg-secondary marker-badge">tags</span>
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestUserManagement::test_create_user</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-pass
                                            ">
                                            PASSED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.1013s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('4-8699138400239121356')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-4-8699138400239121356" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Execution Result ===
Test Passed successfully.</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_delete_user_error"
                                    data-feature-parent="test_example.py"
                                    data-markers="tags feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_delete_user_error
                                        
                                            <span class="badge bg-secondary marker-badge">tags</span>
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestUserManagement::test_delete_user_error</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.1011s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('5-1834957356217397095')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-5-1834957356217397095" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
self = &lt;test_example.TestUserManagement object at 0x0000016928685ED0&gt;

    def test_delete_user_error(self):
        &#34;&#34;&#34;删除用户错误&#34;&#34;&#34;
        time.sleep(0.1)
&gt;       raise Exception(&#34;数据库连接失败&#34;)
E       Exception: 数据库连接失败

test_example.py:46: Exception</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-passed" 
                                    data-scenario-name="test_create_order[100]"
                                    data-feature-parent="test_example.py"
                                    data-markers="feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_create_order[100]
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestOrder::test_create_order[100]</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-pass
                                            ">
                                            PASSED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0508s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('6-7656671119885653316')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-6-7656671119885653316" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Execution Result ===
Test Passed successfully.</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-passed" 
                                    data-scenario-name="test_create_order[200]"
                                    data-feature-parent="test_example.py"
                                    data-markers="feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_create_order[200]
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestOrder::test_create_order[200]</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-pass
                                            ">
                                            PASSED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0513s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('7-5991696713479487605')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-7-5991696713479487605" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Execution Result ===
Test Passed successfully.</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-passed" 
                                    data-scenario-name="test_create_order[300]"
                                    data-feature-parent="test_example.py"
                                    data-markers="feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_create_order[300]
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestOrder::test_create_order[300]</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-pass
                                            ">
                                            PASSED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.051s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('8-4773310835548500873')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-8-4773310835548500873" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Execution Result ===
Test Passed successfully.</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-skipped" 
                                    data-scenario-name="test_cancel_order"
                                    data-feature-parent="test_example.py"
                                    data-markers="feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_cancel_order
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::TestOrder::test_cancel_order</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-skip">
                                            SKIPPED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0005s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('9-1834211430002666078')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-9-1834211430002666078" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
self = &lt;test_example.TestOrder object at 0x00000169286D8410&gt;

    @pytest.mark.xfail(reason=&#34;已知问题&#34;)
    def test_cancel_order(self):
        &#34;&#34;&#34;取消订单&#34;&#34;&#34;
&gt;       assert False
E       assert False

test_example.py:61: AssertionError</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-passed" 
                                    data-scenario-name="test_payment_success"
                                    data-feature-parent="test_example.py"
                                    data-markers="feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_payment_success
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::test_payment_success</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-pass
                                            ">
                                            PASSED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0004s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('10-6942181190845298018')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-10-6942181190845298018" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Execution Result ===
Test Passed successfully.</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_payment_failed"
                                    data-feature-parent="test_example.py"
                                    data-markers="feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_payment_failed
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::test_payment_failed</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0008s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('11-1117247190017896831')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-11-1117247190017896831" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
@feature(&#34;支付模块&#34;)
    def test_payment_failed():
        &#34;&#34;&#34;支付失败&#34;&#34;&#34;
&gt;       assert False
E       assert False

test_example.py:73: AssertionError</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_divide_by_zero"
                                    data-feature-parent="test_example.py"
                                    data-markers="feature">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_divide_by_zero
                                        
                                            <span class="badge bg-secondary marker-badge">feature</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">test_example.py::test_divide_by_zero</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0007s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('12-7843003144718960856')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-12-7843003144718960856" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
@feature(&#34;错误处理&#34;)
    def test_divide_by_zero():
        &#34;&#34;&#34;除零错误&#34;&#34;&#34;
&gt;       result = 1 / 0
E       ZeroDivisionError: division by zero

test_example.py:79: ZeroDivisionError</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                            </table>
                        </td>
                    </tr>
                    
                    <!-- Feature Row -->
                    <tr class="feature-row status-failed" 
                        data-feature-name="计算器功能"
                        data-bs-toggle="collapse" data-bs-target="#collapse-2">
                        <td><strong>计算器功能</strong></td>
                        <td>
                            
                                <span class="badge bg-danger">
                                    P:1 F:1 E:0 S:0
                                </span>
                            
                        </td>
                        <td>-</td>
                        <td><small class="text-muted">Expand/Collapse</small></td>
                    </tr>

                    <!-- Scenarios Container -->
                    <tr class="collapse show" id="collapse-2">
                        <td colspan="4" class="p-0">
                            <table class="table mb-0 table-borderless bg-white">
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-passed" 
                                    data-scenario-name="test_两个数相加"
                                    data-feature-parent="计算器功能"
                                    data-markers="smoke">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_两个数相加
                                        
                                            <span class="badge bg-secondary marker-badge">smoke</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">tests/step_defs/test_calculator.py::test_两个数相加</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-pass
                                            ">
                                            PASSED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0061s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('1-6920519103840945479')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-1-6920519103840945479" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        
                                        <div class="step-container" style="display: block;">
                                            <h6 class="border-bottom pb-2">Execution Steps</h6>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">Given</div>

                                                <div class="step-content">
                                                    <div class="step-name">我有两个数字 10 和 20</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                    <div class="step-logs">
                                                        
                                                        <span class="log-line">00:26:26 - ERROR - 我有两个数字 {x:d} 和 {y:d}</span>
                                                        
                                                    </div>
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-pass">PASS</span>
                                                    
                                                </div>
                                            </div>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">When</div>

                                                <div class="step-content">
                                                    <div class="step-name">我执行加法</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                    <div class="step-logs">
                                                        
                                                        <span class="log-line">00:26:26 - INFO - 我执行加法log</span>
                                                        
                                                    </div>
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-pass">PASS</span>
                                                    
                                                </div>
                                            </div>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">Then</div>

                                                <div class="step-content">
                                                    <div class="step-name">结果应该是 30</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-pass">PASS</span>
                                                    
                                                </div>
                                            </div>
                                            
                                        </div>
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Execution Result ===
Test Passed successfully.

=== Captured log call ===
[31m[1mERROR   [0m test_calculator:test_calculator.py:18 我有两个数字 {x:d} 和 {y:d}
[32mINFO    [0m test_calculator:test_calculator.py:22 我执行加法log</div>

                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_两个数相减_故意失败演示"
                                    data-feature-parent="计算器功能"
                                    data-markers="smoke">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_两个数相减_故意失败演示
                                        
                                            <span class="badge bg-secondary marker-badge">smoke</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">tests/step_defs/test_calculator.py::test_两个数相减_故意失败演示</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0043s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('2-7309539803619056867')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-2-7309539803619056867" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        
                                        <div class="step-container" style="display: block;">
                                            <h6 class="border-bottom pb-2">Execution Steps</h6>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">Given</div>

                                                <div class="step-content">
                                                    <div class="step-name">我有两个数字 50 和 20</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                    <div class="step-logs">
                                                        
                                                        <span class="log-line">00:26:26 - ERROR - 我有两个数字 {x:d} 和 {y:d}</span>
                                                        
                                                    </div>
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-pass">PASS</span>
                                                    
                                                </div>
                                            </div>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">When</div>

                                                <div class="step-content">
                                                    <div class="step-name">我执行减法</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                    <div class="step-logs">
                                                        
                                                        <span class="log-line">00:26:26 - INFO - 我执行减法</span>
                                                        
                                                    </div>
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-pass">PASS</span>
                                                    
                                                </div>
                                            </div>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">Then</div>

                                                <div class="step-content">
                                                    <div class="step-name">结果应该是 10</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-fail">FAIL</span>
                                                        <div class="text-danger small mt-1">assert 30 == 10</div>
                                                    
                                                </div>
                                            </div>
                                            
                                        </div>
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
fixturefunc = &lt;function check_result at 0x0000016928921DA0&gt;, request = &lt;FixtureRequest for &lt;Function test_两个数相减_故意失败演示&gt;&gt;
kwargs = {&#39;context&#39;: {&#39;result&#39;: 30, &#39;x&#39;: 50, &#39;y&#39;: 20}, &#39;res&#39;: 10}

    def call_fixture_func(
        fixturefunc: _FixtureFunc[FixtureValue], request: FixtureRequest, kwargs
    ) -&gt; FixtureValue:
        if is_generator(fixturefunc):
            fixturefunc = cast(
                Callable[..., Generator[FixtureValue, None, None]], fixturefunc
            )
            generator = fixturefunc(**kwargs)
            try:
                fixture_result = next(generator)
            except StopIteration:
                raise ValueError(f&#34;{request.fixturename} did not yield a value&#34;) from None
            finalizer = functools.partial(_teardown_yield_fixture, fixturefunc, generator)
            request.addfinalizer(finalizer)
        else:
            fixturefunc = cast(Callable[..., FixtureValue], fixturefunc)
&gt;           fixture_result = fixturefunc(**kwargs)

D:\Program Files\python\Lib\site-packages\_pytest\fixtures.py:898: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

context = {&#39;result&#39;: 30, &#39;x&#39;: 50, &#39;y&#39;: 20}, res = 10

    @then(parsers.parse(&#34;结果应该是 {res:d}&#34;))
    def check_result(context, res):
        logger.debug(&#34;jieguoyinggaishi&#34;)
&gt;       assert context[&#39;result&#39;] == res
E       assert 30 == 10

tests\step_defs\test_calculator.py:33: AssertionError

=== Captured log call ===
[31m[1mERROR   [0m test_calculator:test_calculator.py:18 我有两个数字 {x:d} 和 {y:d}
[32mINFO    [0m test_calculator:test_calculator.py:27 我执行减法</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                            </table>
                        </td>
                    </tr>
                    
                    <!-- Feature Row -->
                    <tr class="feature-row status-failed" 
                        data-feature-name="login functionality"
                        data-bs-toggle="collapse" data-bs-target="#collapse-3">
                        <td><strong>Login Functionality</strong></td>
                        <td>
                            
                                <span class="badge bg-danger">
                                    P:0 F:3 E:0 S:0
                                </span>
                            
                        </td>
                        <td>-</td>
                        <td><small class="text-muted">Expand/Collapse</small></td>
                    </tr>

                    <!-- Scenarios Container -->
                    <tr class="collapse show" id="collapse-3">
                        <td colspan="4" class="p-0">
                            <table class="table mb-0 table-borderless bg-white">
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_successful_login_with_standard_user"
                                    data-feature-parent="login functionality"
                                    data-markers="smoke p0">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_successful_login_with_standard_user
                                        
                                            <span class="badge bg-secondary marker-badge">smoke</span>
                                        
                                            <span class="badge bg-secondary marker-badge">p0</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">tests/step_defs/test_steps_login.py::test_successful_login_with_standard_user</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0008s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('1-514726661780821221')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-1-514726661780821221" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        
                                        <div class="step-container" style="display: block;">
                                            <h6 class="border-bottom pb-2">Execution Steps</h6>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">Given</div>

                                                <div class="step-content">
                                                    <div class="step-name">I am on the login page</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-fail">FAIL</span>
                                                        <div class="text-danger small mt-1">('page', <FixtureRequest for <Function test_successful_login_with_standard_user>>)</div>
                                                    
                                                </div>
                                            </div>
                                            
                                        </div>
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
file C:\Users\myyds\AppData\Roaming\Python\Python311\site-packages\pytest_bdd\scenario.py, line 296
          def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -&gt; Any:
E       fixture &#39;page&#39; not found
&gt;       available fixtures: _class_backend_context, _pytest_bdd_example, _session_event_loop, _session_faker, _testinfra_host, allowed_hosts, anyio_backend, anyio_backend_name, anyio_backend_options, backend_context, benchmark, benchmark_weave, block_network, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, class_mocker, configure_and_reset_logwood, cov, dask_session, default_cassette_name, disable_recording, docker_cleanup, docker_compose_command, docker_compose_file, docker_compose_project_name, docker_ip, docker_services, docker_setup, doctest_namespace, duckdask_session, duckdb_session, event_loop, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, host, include_metadata_in_junit_xml, logwood_handler_mock, metadata, mocker, module_mocker, monkeypatch, native_session, no_cover, package_mocker, pandas_session, pytestbdd_stepdef_given_I am on the login page, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_I should be redirected to inventory page, pytestbdd_stepdef_then_I should see error message &#34;{error_msg}&#34;, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_I login with user &#34;{username}&#34; and password &#34;{password}&#34;, pytestbdd_stepdef_when_trace, pytestconfig, ray_session, record_mode, record_property, record_testsuite_property, record_xml_attribute, recwarn, requests_mock, session_mocker, spark_session, sparkconnect_session, testrun_uid, tests/step_defs/test_steps_login.py::&lt;event_loop&gt;, time_machine, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, vcr, vcr_cassette_dir, vcr_config, vcr_markers, worker_id
&gt;       use &#39;pytest --fixtures [testpath]&#39; for help on them.

C:\Users\myyds\AppData\Roaming\Python\Python311\site-packages\pytest_bdd\scenario.py:296</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_failed_login_attempts[locked_out_user-secret_sauce-sorry, this user has been locked out.]"
                                    data-feature-parent="login functionality"
                                    data-markers="p1 smoke p0 regression">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_failed_login_attempts[locked_out_user-secret_sauce-Sorry, this user has been locked out.]
                                        
                                            <span class="badge bg-secondary marker-badge">p1</span>
                                        
                                            <span class="badge bg-secondary marker-badge">smoke</span>
                                        
                                            <span class="badge bg-secondary marker-badge">p0</span>
                                        
                                            <span class="badge bg-secondary marker-badge">regression</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">tests/step_defs/test_steps_login.py::test_failed_login_attempts[locked_out_user-secret_sauce-Sorry, this user has been locked out.]</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0012s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('2-7178475271358887765')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-2-7178475271358887765" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        
                                        <div class="step-container" style="display: block;">
                                            <h6 class="border-bottom pb-2">Execution Steps</h6>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">Given</div>

                                                <div class="step-content">
                                                    <div class="step-name">I am on the login page</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-fail">FAIL</span>
                                                        <div class="text-danger small mt-1">('page', <FixtureRequest for <Function test_failed_login_attempts[locked_out_user-secret_sauce-Sorry, this user has been locked out.]>>)</div>
                                                    
                                                </div>
                                            </div>
                                            
                                        </div>
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
file C:\Users\myyds\AppData\Roaming\Python\Python311\site-packages\pytest_bdd\scenario.py, line 296
          def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -&gt; Any:
E       fixture &#39;page&#39; not found
&gt;       available fixtures: _class_backend_context, _pytest_bdd_example, _session_event_loop, _session_faker, _testinfra_host, allowed_hosts, anyio_backend, anyio_backend_name, anyio_backend_options, backend_context, benchmark, benchmark_weave, block_network, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, class_mocker, configure_and_reset_logwood, cov, dask_session, default_cassette_name, disable_recording, docker_cleanup, docker_compose_command, docker_compose_file, docker_compose_project_name, docker_ip, docker_services, docker_setup, doctest_namespace, duckdask_session, duckdb_session, event_loop, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, host, include_metadata_in_junit_xml, logwood_handler_mock, metadata, mocker, module_mocker, monkeypatch, native_session, no_cover, package_mocker, pandas_session, pytestbdd_stepdef_given_I am on the login page, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_I should be redirected to inventory page, pytestbdd_stepdef_then_I should see error message &#34;{error_msg}&#34;, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_I login with user &#34;{username}&#34; and password &#34;{password}&#34;, pytestbdd_stepdef_when_trace, pytestconfig, ray_session, record_mode, record_property, record_testsuite_property, record_xml_attribute, recwarn, requests_mock, session_mocker, spark_session, sparkconnect_session, testrun_uid, tests/step_defs/test_steps_login.py::&lt;event_loop&gt;, time_machine, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, vcr, vcr_cassette_dir, vcr_config, vcr_markers, worker_id
&gt;       use &#39;pytest --fixtures [testpath]&#39; for help on them.

C:\Users\myyds\AppData\Roaming\Python\Python311\site-packages\pytest_bdd\scenario.py:296</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                                <!-- Scenario Row -->
                                <tr class="scenario-row status-failed" 
                                    data-scenario-name="test_failed_login_attempts[invalid_user-wrong_pass-username and password do not match any user in this service]"
                                    data-feature-parent="login functionality"
                                    data-markers="p1 smoke p0 regression">

                                    <td style="width: 50%; padding-left: 40px;">
                                        test_failed_login_attempts[invalid_user-wrong_pass-Username and password do not match any user in this service]
                                        
                                            <span class="badge bg-secondary marker-badge">p1</span>
                                        
                                            <span class="badge bg-secondary marker-badge">smoke</span>
                                        
                                            <span class="badge bg-secondary marker-badge">p0</span>
                                        
                                            <span class="badge bg-secondary marker-badge">regression</span>
                                        
                                        <div class="text-muted small" style="font-size: 0.8em;">tests/step_defs/test_steps_login.py::test_failed_login_attempts[invalid_user-wrong_pass-Username and password do not match any user in this service]</div>
                                    </td>
                                    <td style="width: 15%">
                                        <span class="status-badge 
                                            bg-fail
                                            ">
                                            FAILED
                                        </span>
                                    </td>
                                    <td style="width: 15%">0.0009s</td>
                                    <td style="width: 20%">
                                        <button class="btn btn-sm btn-outline-secondary" style="font-size: 0.8em;" 
                                                onclick="toggleDetails('3-4197964625339732938')">
                                            Details
                                        </button>
                                    </td>
                                </tr>

                                <!-- Steps & Logs Row -->
                                <tr class="details-row" id="details-row-3-4197964625339732938" style="display:none; border-top: none;">
                                    <td colspan="4" class="p-0">

                                        <!-- 1. BDD Steps Visualization -->
                                        
                                        <div class="step-container" style="display: block;">
                                            <h6 class="border-bottom pb-2">Execution Steps</h6>
                                            
                                            <div class="step-item">
                                                <div class="step-keyword">Given</div>

                                                <div class="step-content">
                                                    <div class="step-name">I am on the login page</div>

                                                    <!-- NEW: Per-Step Logs -->
                                                    
                                                </div>

                                                <div class="step-status">
                                                    
                                                        <span class="badge bg-fail">FAIL</span>
                                                        <div class="text-danger small mt-1">('page', <FixtureRequest for <Function test_failed_login_attempts[invalid_user-wrong_pass-Username and password do not match any user in this service]>>)</div>
                                                    
                                                </div>
                                            </div>
                                            
                                        </div>
                                        

                                        <!-- 2. Logs & Screenshots -->
                                        <div class="log-box" style="display: block;">
                                            <div>=== Error Trace ===
file C:\Users\myyds\AppData\Roaming\Python\Python311\site-packages\pytest_bdd\scenario.py, line 296
          def scenario_wrapper(request: FixtureRequest, _pytest_bdd_example: dict[str, str]) -&gt; Any:
E       fixture &#39;page&#39; not found
&gt;       available fixtures: _class_backend_context, _pytest_bdd_example, _session_event_loop, _session_faker, _testinfra_host, allowed_hosts, anyio_backend, anyio_backend_name, anyio_backend_options, backend_context, benchmark, benchmark_weave, block_network, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, class_mocker, configure_and_reset_logwood, cov, dask_session, default_cassette_name, disable_recording, docker_cleanup, docker_compose_command, docker_compose_file, docker_compose_project_name, docker_ip, docker_services, docker_setup, doctest_namespace, duckdask_session, duckdb_session, event_loop, event_loop_policy, extra, extras, faker, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, host, include_metadata_in_junit_xml, logwood_handler_mock, metadata, mocker, module_mocker, monkeypatch, native_session, no_cover, package_mocker, pandas_session, pytestbdd_stepdef_given_I am on the login page, pytestbdd_stepdef_given_trace, pytestbdd_stepdef_then_I should be redirected to inventory page, pytestbdd_stepdef_then_I should see error message &#34;{error_msg}&#34;, pytestbdd_stepdef_then_trace, pytestbdd_stepdef_when_I login with user &#34;{username}&#34; and password &#34;{password}&#34;, pytestbdd_stepdef_when_trace, pytestconfig, ray_session, record_mode, record_property, record_testsuite_property, record_xml_attribute, recwarn, requests_mock, session_mocker, spark_session, sparkconnect_session, testrun_uid, tests/step_defs/test_steps_login.py::&lt;event_loop&gt;, time_machine, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory, vcr, vcr_cassette_dir, vcr_config, vcr_markers, worker_id
&gt;       use &#39;pytest --fixtures [testpath]&#39; for help on them.

C:\Users\myyds\AppData\Roaming\Python\Python311\site-packages\pytest_bdd\scenario.py:296</div>

                                            
                                            <div class="screenshot-box">
                                                <h6>Failure Screenshot</h6>
                                                
                                                    <div class="alert alert-light border border-warning text-warning mt-2">
                                                        <small>No screenshot captured (Check 'driver' fixture).</small>
                                                    </div>
                                                
                                            </div>
                                            
                                        </div>
                                    </td>
                                </tr>
                                
                            </table>
                        </td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // ECharts Initialization
    var chartFeatures = echarts.init(document.getElementById('chart-features'));
    var optionFeatures = {
        tooltip: { trigger: 'item' },
        legend: { bottom: '0%' },
        color: ['#28a745', '#dc3545', '#fd7e14', '#6c757d'],
        series: [{
            name: 'Feature Status', type: 'pie', radius: ['40%', '70%'],
            avoidLabelOverlap: false, itemStyle: { borderRadius: 5, borderColor: '#fff', borderWidth: 2 },
            label: { show: false, position: 'center' },
            emphasis: { label: { show: true, fontSize: '20', fontWeight: 'bold' } },
            data: [
                { value: 0, name: 'Passed' },
                { value: 3, name: 'Failed' },
                { value: 0, name: 'Error' },
                { value: 0, name: 'Skipped' }
            ]
        }]
    };
    chartFeatures.setOption(optionFeatures);

    var chartCases = echarts.init(document.getElementById('chart-cases'));
    var optionCases = {
        tooltip: { trigger: 'item' },
        legend: { bottom: '0%' },
        color: ['#28a745', '#dc3545', '#fd7e14', '#6c757d'],
        series: [{
            name: 'Case Status', type: 'pie', radius: ['40%', '70%'],
            itemStyle: { borderRadius: 5, borderColor: '#fff', borderWidth: 2 },
            data: [
                { value: 7, name: 'Passed' },
                { value: 8, name: 'Failed' },
                { value: 0, name: 'Error' },
                { value: 2, name: 'Skipped' }
            ]
        }]
    };
    chartCases.setOption(optionCases);

    window.addEventListener('resize', function() {
        chartFeatures.resize();
        chartCases.resize();
    });

    // === COMBINED FILTER LOGIC ===
    var currentStatusFilter = 'all';

    function setFilterStatus(status) {
        currentStatusFilter = status;
        document.querySelectorAll('.btn-filter').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        applyFilter();
    }

    function applyFilter() {
        var searchTerm = document.getElementById('searchInput').value.toLowerCase();
        var selectedMarker = document.getElementById('markerFilter').value;
        var status = currentStatusFilter;

        const featureRows = document.querySelectorAll('.feature-row');
        const scenarioRows = document.querySelectorAll('.scenario-row');

        scenarioRows.forEach(row => {
            var sName = row.getAttribute('data-scenario-name');
            var fName = row.getAttribute('data-feature-parent');
            var sMarkers = row.getAttribute('data-markers') || "";

            var rowStatus = '';
            if (row.classList.contains('status-passed')) rowStatus = 'passed';
            else if (row.classList.contains('status-failed')) rowStatus = 'failed';
            else if (row.classList.contains('status-error')) rowStatus = 'error';
            else rowStatus = 'skipped';

            var statusMatch = (status === 'all') || (status === rowStatus);
            if (status === 'failed') statusMatch = (rowStatus === 'failed'); 
            else if (status === 'error') statusMatch = (rowStatus === 'error');

            var textMatch = (sName.includes(searchTerm) || fName.includes(searchTerm));
            var markerMatch = (selectedMarker === 'all') || sMarkers.includes(selectedMarker);

            if (statusMatch && textMatch && markerMatch) {
                row.style.display = '';
            } else {
                row.style.display = 'none';
                var nextRow = row.nextElementSibling;
                if(nextRow && nextRow.classList.contains('details-row')) {
                    nextRow.style.display = 'none'; 
                }
            }
        });

        featureRows.forEach(fRow => {
            var featureName = fRow.getAttribute('data-feature-name');
            var visibleSiblings = document.querySelectorAll(`.scenario-row[data-feature-parent="${featureName}"]`);
            var hasVisibleChildren = false;
            visibleSiblings.forEach(s => {
                if(s.style.display !== 'none') hasVisibleChildren = true;
            });

            if (hasVisibleChildren) {
                fRow.style.display = '';
            } else {
                fRow.style.display = 'none';
            }
        });
    }

    function toggleDetails(idSuffix) {
        var rowId = 'details-row-' + idSuffix;
        var row = document.getElementById(rowId);
        if (row.style.display === "none" || row.style.display === "") {
            row.style.display = "table-row";
        } else {
            row.style.display = "none";
        }
    }
</script>
</body>
</html>