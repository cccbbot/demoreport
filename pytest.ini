[pytest]
# 测试文件匹配模式
testpaths = .
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 命令行选项
addopts =
    --strict-markers
    --headed --slowmo 500 --browser chromium
    --screenshot on
    -v

# 自定义标记
markers =
    p0: Priority 0 - Blocker
    p1: Priority 1 - Critical
    p2: Priority 2 - Major
    p3: Priority 3 - Minor
    ui: UI tests
    feature: 标记测试所属的功能模块
    tags: 测试标签（多个）
    smoke: 冒烟测试
    critical: 关键路径测试
    regression: 回归测试
    e2e: 端到端测试
    admin: 管理员功能测试
    payment: 支付相关测试
    business: 核心业务测试

# 日志配置
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %H:%M:%S

# 测试发现
norecursedirs = .git .svn .hg __pycache__ .pytest_cache build dist

# 并行测试（可选）
# addopts = --numprocesses=auto